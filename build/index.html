<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>Web Bluetooth Power Meter</title><style>*{box-sizing:border-box}body{color:#fff;background:linear-gradient(135deg,#0c0c0c 0%,#1a1a1a 50%,#0c0c0c 100%);min-height:100vh;margin:0;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.dashboard{grid-template-columns:1fr;gap:24px;max-width:1200px;margin:0 auto;display:grid}.header{text-align:center;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;padding:2rem;box-shadow:0 8px 32px #0006}.metrics-grid{grid-template-rows:auto auto auto;grid-template-columns:2fr 1fr 1fr;gap:4px;display:grid}.metric-card{text-align:center;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;padding:.5rem;position:relative;overflow:hidden;box-shadow:0 8px 32px #0006}.metric-card:before{content:"";background:linear-gradient(90deg,var(--accent-color,#f39c12)0%,transparent 100%);height:3px;position:absolute;top:0;left:0;right:0}.power-card{--accent-color:#f39c12;grid-area:1/1/3}.hr-card{--accent-color:#e74c3c;grid-area:1/2}.cadence-card{--accent-color:#3498db;grid-area:1/3/2}.spy-mode-section{background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;margin-top:1rem;padding:2rem;box-shadow:0 8px 32px #0006}.spy-content{justify-content:center;display:flex}.spy-card{--accent-color:#9b59b6;cursor:pointer;width:100%;max-width:400px;transition:all .3s}.spy-card:hover{border-color:#9b59b666;transform:translateY(-2px);box-shadow:0 12px 40px #9b59b64d}.controls-container{text-align:center;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;padding:2rem;box-shadow:0 8px 32px #0006}h1{color:#f39c12;-webkit-text-fill-color:transparent;background:linear-gradient(45deg,#f39c12,#e67e22) text;margin:0 0 1rem;font-size:2.5rem;font-weight:700}.metric-value{color:var(--accent-color,#fff);text-shadow:0 2px 10px #00000080;text-align:center;margin-bottom:.1rem;font-size:clamp(4rem,8vw,6rem);font-weight:1000;line-height:1}#power-value{color:#f39c12;display:inline-block;position:relative}.power-card .metric-value{letter-spacing:-.02em;font-size:clamp(7rem,18vw,14rem);font-weight:1000}.metric-label{color:#888;text-transform:uppercase;letter-spacing:1px;font-size:.5rem;font-weight:600;line-height:1.2}.metric-row{justify-content:center;align-items:center;gap:.8rem;display:flex}.metric-info{flex-direction:column;gap:.1rem;display:flex}.metric-unit{color:#aaa;text-transform:uppercase;letter-spacing:.5px;font-size:.4rem;font-weight:500}.status-text{color:#bbb;margin-top:1rem;font-size:.9rem;font-style:italic}.device-name{color:var(--accent-color,#f39c12);margin-top:.5rem;font-size:.9rem;font-weight:600}button{color:#121212;cursor:pointer;background:linear-gradient(135deg,#f39c12 0%,#e67e22 100%);border:none;border-radius:12px;margin:8px;padding:16px 32px;font-size:16px;font-weight:600;transition:all .3s;position:relative;overflow:hidden;box-shadow:0 4px 16px #f39c124d}button:before{content:"";background:linear-gradient(90deg,#0000,#fff3,#0000);width:100%;height:100%;transition:left .5s;position:absolute;top:0;left:-100%}button:hover:before{left:100%}button:hover{transform:translateY(-2px);box-shadow:0 8px 24px #f39c1266}button:disabled{color:#888;cursor:not-allowed;box-shadow:none;background:#555;transform:translateY(0)}button:disabled:before{display:none}.export-buttons{flex-wrap:wrap;justify-content:center;gap:12px;margin-top:1.5rem;display:flex}.export-buttons button{background:linear-gradient(135deg,#3498db 0%,#2980b9 100%);box-shadow:0 4px 16px #3498db4d}.export-buttons button:hover{box-shadow:0 8px 24px #3498db66}#exportImageButton{font-weight:600;position:relative;color:#fff!important;background:linear-gradient(135deg,#e67e22 0%,#d35400 100%)!important;box-shadow:0 4px 16px #e67e224d!important}#exportImageButton:hover{transform:translateY(-2px);box-shadow:0 8px 24px #e67e2266!important}#exportImageButton:disabled{opacity:.6;cursor:not-allowed;transform:none}.toggle-controls{text-align:center;margin:1rem 0}.toggle-button{background:linear-gradient(135deg,#9b59b6 0%,#8e44ad 100%);justify-content:center;align-items:center;gap:8px;min-width:200px;padding:12px 20px;font-size:14px;display:inline-flex;box-shadow:0 4px 16px #9b59b64d}.toggle-button:hover{background:linear-gradient(135deg,#a569bd 0%,#9b59b6 100%);box-shadow:0 8px 24px #9b59b666}.toggle-icon{font-size:12px;transition:transform .3s}.toggle-button.collapsed .toggle-icon{transform:rotate(180deg)}.section-header{border-bottom:1px solid #ffffff1a;margin-bottom:1.5rem;padding-bottom:1rem}.section-toggle-button{background:linear-gradient(135deg,#9b59b6 0%,#8e44ad 100%);border-radius:12px;justify-content:center;align-items:center;gap:8px;width:100%;min-width:200px;padding:12px 20px;font-size:14px;display:inline-flex;box-shadow:0 4px 16px #9b59b64d}.section-toggle-button:hover{background:linear-gradient(135deg,#a569bd 0%,#9b59b6 100%);box-shadow:0 8px 24px #9b59b666}.section-toggle-button .toggle-icon{font-size:12px;transition:transform .3s}.section-toggle-button.collapsed .toggle-icon{transform:rotate(180deg)}.bottom-controls{flex-direction:column;gap:15px;margin-top:20px;display:flex}.hamburger-menu{z-index:1000;position:fixed;top:20px;right:20px}.hamburger-button{cursor:pointer;background:linear-gradient(135deg,#555 0%,#444 100%);border:none;border-radius:12px;justify-content:center;align-items:center;width:50px;height:50px;transition:all .3s;display:flex;box-shadow:0 4px 16px #5555554d}.hamburger-button:hover{transform:translateY(-2px);box-shadow:0 8px 24px #5556}.hamburger-icon{flex-direction:column;justify-content:space-between;width:20px;height:14px;display:flex}.hamburger-line{background:#121212;border-radius:1px;width:100%;height:2px;transition:all .3s}.hamburger-button.active .hamburger-line:first-child{transform:rotate(45deg)translate(5px,5px)}.hamburger-button.active .hamburger-line:nth-child(2){opacity:0}.hamburger-button.active .hamburger-line:nth-child(3){transform:rotate(-45deg)translate(7px,-6px)}.menu-dropdown{opacity:0;visibility:hidden;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:12px;min-width:220px;transition:all .3s;position:absolute;top:60px;right:0;overflow:hidden;transform:translateY(-10px);box-shadow:0 8px 32px #0006}.menu-dropdown.active{opacity:1;visibility:visible;transform:translateY(0)}.menu-item{cursor:pointer;border-bottom:1px solid #ffffff1a;justify-content:space-between;align-items:center;padding:15px 20px;transition:background .3s;display:flex}.menu-item:last-child{border-bottom:none}.menu-item:hover{background:#ffffff0d}.menu-item-text{color:#fff;font-size:14px;font-weight:500}#loadDebugDataMenuItem{background:#e74c3c1a;border:1px solid #e74c3c4d}#loadDebugDataMenuItem:hover{background:#e74c3c33}#loadDebugDataMenuItem .menu-item-text{color:#e74c3c;font-weight:600}#showInfoMenuItem{background:#3498db1a;border:1px solid #3498db4d}#showInfoMenuItem:hover{background:#3498db33}#showInfoMenuItem .menu-item-text{color:#3498db;font-weight:600}#showQrCodeMenuItem{background:#9b59b61a;border:1px solid #9b59b64d}#showQrCodeMenuItem:hover{background:#9b59b633}#showQrCodeMenuItem .menu-item-text{color:#9b59b6;font-weight:600}.menu-toggle{cursor:pointer;background:#555;border-radius:10px;width:40px;height:20px;transition:background .3s;position:relative}.menu-toggle.active{background:#f39c12}.menu-toggle-slider{background:#fff;border-radius:50%;width:16px;height:16px;transition:transform .3s;position:absolute;top:2px;left:2px}.menu-toggle.active .menu-toggle-slider{transform:translate(20px)}.controls-container.collapsed,.export-section.collapsed,.power-averages-section.collapsed{padding:1rem 2rem}.section-header.collapsed{border-bottom:none;margin-bottom:0;padding-bottom:0}.dashboard.has-collapsed-sections{grid-template-columns:1fr;gap:24px;display:grid}.collapsed-sections-row{flex-wrap:wrap;justify-content:center;gap:1rem;display:flex}.collapsed-sections-row .controls-container.collapsed,.collapsed-sections-row .export-section.collapsed,.collapsed-sections-row .power-averages-section.collapsed{flex:1;min-width:200px;max-width:300px;margin-top:0;padding:1rem}.collapsed-sections-row .section-toggle-button{width:100%;min-width:auto;padding:10px 16px;font-size:12px}.controls-container,.export-section{transition:all .4s ease-in-out;overflow:hidden}.dashboard{transition:all .4s ease-in-out}.power-card .metric-value{transition:font-size .4s ease-in-out}.power-card{transition:padding .4s ease-in-out}.export-section{background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;margin-top:1rem;padding:2rem;box-shadow:0 8px 32px #0006}.export-section .export-buttons{margin-top:0}.power-averages-section{background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;margin-top:1rem;padding:2rem;box-shadow:0 8px 32px #0006}.averages-tables{flex-direction:column;gap:2rem;display:flex}.averages-table-container{background:#ffffff0d;border:1px solid #ffffff1a;border-radius:16px;padding:1.5rem}.power-averages-table{border-collapse:collapse;width:100%;font-size:.9rem}.power-averages-table th{color:#f39c12;text-align:center;text-transform:uppercase;letter-spacing:.5px;background:#ffffff1a;border:1px solid #fff3;padding:.75rem;font-size:.8rem;font-weight:600}.power-averages-table td{text-align:center;color:#fff;border:1px solid #fff3;padding:.75rem;font-weight:500}.power-averages-table .row-label{color:#aaa;text-align:left;background:#ffffff0d;padding-left:1rem;font-weight:600}.power-averages-table tbody tr:first-child .row-label{color:#3498db}.power-averages-table tbody tr:nth-child(2) .row-label{color:#e74c3c}.power-averages-table tbody tr:hover{background:#ffffff0d}.dashboard.maximized .power-card .metric-value{font-size:clamp(9rem,22vw,18rem)}.dashboard.maximized .power-card{padding:3rem}.dashboard.maximized .metrics-grid{gap:30px}.metric-box{text-align:center;background:#ffffff0d;border:1px solid #ffffff1a;border-radius:12px;padding:1rem}.metric-box .value{color:#fff;margin-bottom:.5rem;font-size:1.8rem;font-weight:700}.metric-box .label{color:#aaa;text-transform:uppercase;letter-spacing:.5px;font-size:.8rem}@media (width<=1024px){.metrics-grid{grid-template-rows:auto auto auto;grid-template-columns:1fr 1fr}.power-card{grid-area:1/1/auto/3}.hr-card{grid-area:2/1}.cadence-card{grid-area:2/2}.speed-card{grid-area:3/1}.distance-card{grid-area:3/2}}@media (width<=768px){body{padding:12px}.dashboard{gap:16px}.metrics-grid{grid-template-rows:repeat(3,auto);grid-template-columns:1fr}.power-card,.hr-card,.cadence-card{grid-column:1}.power-card{grid-row:1}.hr-card{grid-row:2}.cadence-card{grid-row:3}.header,.metric-card,.controls-container{padding:1.5rem}h1{font-size:2rem}.advanced-metrics{grid-template-columns:1fr;gap:12px;margin:1rem 0}}@media (width<=400px){.metrics-grid{grid-template-rows:auto auto;grid-template-columns:1fr 1fr;gap:12px}.power-card{grid-area:1/1/auto/3}.hr-card{grid-area:2/1}.cadence-card{grid-area:2/2}.metric-card{padding:.8rem}.power-card{padding:1.2rem}}@media (width<=768px) and (width>=481px){.averages-grid{grid-template-columns:repeat(2,1fr);gap:1rem}.average-card{padding:1rem}.average-label{margin-bottom:.6rem;font-size:.85rem}.average-value{font-size:1.2rem}.average-title{font-size:.75rem}}@media (width<=480px){body{padding:8px}.header,.metric-card,.controls-container{padding:1rem}h1{margin:0 0 .5rem;font-size:1.6rem}.metric-card{border-radius:16px;padding:1.2rem}.metric-label{font-size:.6rem}.metric-unit{font-size:.5rem}.metric-row{gap:1rem}.metric-box .value{font-size:1.4rem}.metric-box .label{font-size:.7rem}button{border-radius:10px;margin:6px;padding:12px 24px;font-size:14px}.export-buttons{flex-direction:column;align-items:center}.toggle-button,.section-toggle-button{min-width:160px;padding:10px 16px;font-size:12px}.section-header{margin-bottom:1rem;padding-bottom:.75rem}.controls-container.collapsed,.export-section.collapsed,.power-averages-section.collapsed{padding:.75rem 1rem}.averages-tables{gap:1.5rem}.power-averages-table{font-size:.8rem}.power-averages-table th,.power-averages-table td{padding:.5rem .3rem;font-size:.7rem}.averages-table-container{padding:1rem}.section-header.collapsed{margin-bottom:0;padding-bottom:0}.collapsed-sections-row{flex-direction:column;gap:.5rem}.collapsed-sections-row .controls-container.collapsed,.collapsed-sections-row .export-section.collapsed,.collapsed-sections-row .power-averages-section.collapsed{flex:none;min-width:auto;max-width:none;padding:.5rem}.collapsed-sections-row .section-toggle-button{padding:8px 12px;font-size:11px}.dashboard.maximized .power-card .metric-value{font-size:clamp(6rem,18vw,12rem)}.status-text{margin-top:.5rem;font-size:.8rem}.device-name{margin-top:.3rem;font-size:.8rem}.averages-grid{grid-template-columns:repeat(2,1fr);gap:.75rem;margin:0 -.5rem}.average-card{border-radius:12px;padding:.75rem}.average-label{margin-bottom:.5rem;font-size:.8rem;font-weight:500}.average-values{flex-direction:column;gap:.25rem;display:flex}.current-average,.best-average{justify-content:space-between;align-items:center;display:flex}.average-value{font-size:1.1rem;font-weight:600}.average-title{flex:1;font-size:.7rem}.average-unit{margin-left:.25rem;font-size:.7rem}}.metric-value.loading{animation:2s ease-in-out infinite pulse}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}.metric-card.connected:before{background:linear-gradient(90deg,var(--accent-color,#f39c12)0%,#ffffff4d 100%);animation:3s ease-in-out infinite glow}@keyframes glow{0%,to{opacity:1}50%{opacity:.7}}#hrConnectionStatus,#cadenceConnectionStatus{color:#121212b3;margin-top:.5rem;font-size:.8rem;font-weight:400}button:disabled #hrConnectionStatus,button:disabled #cadenceConnectionStatus{color:#888c}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#ffffff1a;border-radius:4px}::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#ffffff80}button:focus{outline:2px solid var(--accent-color,#f39c12);outline-offset:2px}button .status-text{color:#121212b3;margin-top:.5rem;font-size:.8rem;font-style:italic;font-weight:400}button:disabled .status-text{color:#888c}button .device-name{color:#121212cc;margin-top:.3rem;font-size:.8rem;font-weight:600}button:disabled .device-name{color:#888888e6}@media (prefers-color-scheme:dark){body{background:linear-gradient(135deg,#0a0a0a 0%,#1a1a1a 50%,#0a0a0a 100%)}}.modal-backdrop{z-index:1000;backdrop-filter:blur(4px);background:#000c;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:fixed;top:0;left:0}.modal{color:#fff;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:16px;max-width:500px;margin:20px;padding:32px;box-shadow:0 20px 40px #0009}.modal h3{color:#fff;margin:0 0 16px;font-size:1.5rem;font-weight:600}.modal p{color:#ccc;margin:0 0 16px;line-height:1.5}.modal-buttons{justify-content:flex-end;gap:12px;margin-top:24px;display:flex}.modal-button{cursor:pointer;border:none;border-radius:8px;padding:12px 24px;font-size:14px;font-weight:500;transition:all .2s}.modal-button.secondary{color:#fff;background:#ffffff1a;border:1px solid #fff3}.modal-button.secondary:hover{background:#ffffff26;border-color:#ffffff4d}.modal-button.primary{color:#fff;background:linear-gradient(135deg,#007acc 0%,#005a99 100%)}.modal-button.primary:hover{background:linear-gradient(135deg,#08d 0%,#06a 100%);transform:translateY(-1px)}</style><body>
  
  <div class=hamburger-menu>
    <button class=hamburger-button id=hamburgerButton>
      <div class=hamburger-icon>
        <span class=hamburger-line></span>
        <span class=hamburger-line></span>
        <span class=hamburger-line></span>
      </div>
    </button>
    <div class=menu-dropdown id=menuDropdown>
      <div class=menu-item id=togglePowerAveragesMenuItem>
        <span class=menu-item-text>Power Averages</span>
        <div class=menu-toggle id=powerAveragesToggle>
          <div class=menu-toggle-slider></div>
        </div>
      </div>
      <div class=menu-item id=togglePowerMetricMenuItem>
        <span class=menu-item-text>Power Metric</span>
        <div class=menu-toggle id=powerMetricToggle>
          <div class=menu-toggle-slider></div>
        </div>
      </div>
      <div class=menu-item id=toggleHeartRateMetricMenuItem>
        <span class=menu-item-text>Heart Rate Metric</span>
        <div class=menu-toggle id=heartRateMetricToggle>
          <div class=menu-toggle-slider></div>
        </div>
      </div>
      <div class=menu-item id=toggleCadenceMetricMenuItem>
        <span class=menu-item-text>Cadence Metric</span>
        <div class=menu-toggle id=cadenceMetricToggle>
          <div class=menu-toggle-slider></div>
        </div>
      </div>
      <div class=menu-item id=toggleConnectSectionMenuItem>
        <span class=menu-item-text>Connect Devices</span>
        <div class=menu-toggle id=connectSectionToggle>
          <div class=menu-toggle-slider></div>
        </div>
      </div>
      <div class=menu-item id=toggleExportSectionMenuItem>
        <span class=menu-item-text>Export Data</span>
        <div class=menu-toggle id=exportSectionToggle>
          <div class=menu-toggle-slider></div>
        </div>
      </div>
      <div class=menu-item id=toggleSpyModeMenuItem>
        <span class=menu-item-text>🕵️ Spy Mode</span>
        <div class=menu-toggle id=spyModeToggle>
          <div class=menu-toggle-slider></div>
        </div>
      </div>
      <div class=menu-item id=loadDebugDataMenuItem>
        <span class=menu-item-text>🔧 Load Debug Data</span>
      </div>
      <div class=menu-item id=showInfoMenuItem>
        <span class=menu-item-text>ℹ️ App Info</span>
      </div>
      <div class=menu-item id=showQrCodeMenuItem>
        <span class=menu-item-text>📱 Share QR Code</span>
      </div>
    </div>
  </div>

  <div class=dashboard>
    <div class=metrics-grid>
      <div class="metric-card power-card">
        <div class=metric-row>
          <div class=metric-value id=power-value>--</div>
          <div class=metric-info>
            <div class=metric-label>Power Output</div>
            <div class=metric-unit>Watts</div>
          </div>
        </div>
      </div>

      <div class="hr-card metric-card">
        <div class=metric-row>
          <div class=metric-value id=hr-value>--</div>
          <div class=metric-info>
            <div class=metric-label>Heart Rate</div>
            <div class=metric-unit>BPM</div>
          </div>
        </div>
        <div class=status-text id=hrStatus style=display:none></div>
      </div>

      <div class="cadence-card metric-card">
        <div class=metric-row>
          <div class=metric-value id=cadence-value>--</div>
          <div class=metric-info>
            <div class=metric-label>Cadence</div>
            <div class=metric-unit>RPM</div>
          </div>
        </div>
        <div class=status-text id=cadenceStatus style=display:none></div>
      </div>

    </div>
  </div>

  
  <div class=spy-mode-section id=spyModeSection style=display:none>
    <div class=spy-content>
      <div class="metric-card spy-card" title="Click to connect to spy power meter">
        <div class=metric-row>
          <div class=metric-value id=spy-value>--</div>
          <div class=metric-info>
            <div class=metric-label>🕵️ Spy Power</div>
            <div class=metric-unit>Watts</div>
          </div>
        </div>
        <div class=status-text id=spyStatus style=display:none></div>
        <div class=spy-instructions id=spyInstructions style=color:#999;margin-top:.5rem;font-size:.7rem>
          Click to connect</div>
      </div>
    </div>
  </div>

  
  <div class=power-averages-section id=powerAveragesSection style=display:none>
    <div class=averages-tables>
      
      <div class=averages-table-container2>
        <table class=power-averages-table>
          <thead>
            <tr>
              <th>Power averages</th>
              <th>10s</th>
              <th>30s</th>
              <th>1m</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class=row-label>Current</td>
              <td><span id=avg10s-current>--</span> W</td>
              <td><span id=avg30s-current>--</span> W</td>
              <td><span id=avg1m-current>--</span> W</td>
            </tr>
            <tr>
              <td class=row-label>Best</td>
              <td><span id=avg10s-best>--</span> W</td>
              <td><span id=avg30s-best>--</span> W</td>
              <td><span id=avg1m-best>--</span> W</td>
            </tr>
          </tbody>
        </table>
      </div>

      
      <div class=averages-table-container2>
        <table class=power-averages-table>
          <thead>
            <tr>
              <th>Power averages</th>
              <th>2m</th>
              <th>4m</th>
              <th>8m</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class=row-label>Current</td>
              <td><span id=avg2m-current>--</span> W</td>
              <td><span id=avg4m-current>--</span> W</td>
              <td><span id=avg8m-current>--</span> W</td>
            </tr>
            <tr>
              <td class=row-label>Best</td>
              <td><span id=avg2m-best>--</span> W</td>
              <td><span id=avg4m-best>--</span> W</td>
              <td><span id=avg8m-best>--</span> W</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  
  <div class=bottom-controls>
    
    <div class=controls-container id=connectSection>
      <div class=section-header>
        <button id=toggleConnectSection class=section-toggle-button>
          <span id=connectToggleText>Hide Connect Devices</span>
          <span class=toggle-icon>▲</span>
        </button>
      </div>
      <button id=connectButton>
        Connect Power Meter
        <div class=status-text id=status>Disconnected</div>
        <div class=device-name id=device-name style=display:none></div>
      </button>
      <button id=hrConnectButton>
        Connect Heart Rate Monitor
        <div class=status-text id=hrConnectionStatus>Disconnected</div>
        <div class=device-name id=hrDeviceName style=display:none></div>
      </button>
      <button id=speedCadenceConnectButton>
        Connect Speed &amp; Cadence
        <div class=status-text id=cadenceConnectionStatus>Disconnected</div>
        <div class=device-name id=cadenceDeviceName style=display:none></div>
      </button>
    </div>

    
    <div class=export-section id=exportSection style=display:none>
      <div class=section-header>
        <button id=toggleExportSection class=section-toggle-button>
          <span id=exportToggleText>Hide Export Data</span>
          <span class=toggle-icon>▲</span>
        </button>
      </div>
      <div class=export-buttons id=export-buttons>
        <button id=exportJsonButton>Export Summary JSON</button>
        <button id=exportCsvButton>Export Summary CSV</button>
        <button id=exportTcxButton>Export TCX</button>
        <button id=exportRawJsonButton>Export Raw Measurements JSON</button>
        <button id=exportRawCsvButton>Export Raw Measurements CSV</button>
        <button id=exportImageButton style="color:#fff;background:linear-gradient(135deg,#e67e22 0%,#d35400 100%)">
          📊 Export Summary Image
        </button>
        <button id=clearSessionButton style=background:#f44336;margin-top:1rem>
          Clear Session Data
        </button>
      </div>
    </div>
  </div>

  <script src=power-saver.d2560047.js></script>


