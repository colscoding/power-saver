<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>Web Bluetooth Power Meter</title><style>*{box-sizing:border-box}body{color:#fff;background:linear-gradient(135deg,#0c0c0c 0%,#1a1a1a 50%,#0c0c0c 100%);min-height:100vh;margin:0;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.dashboard{grid-template-columns:1fr;gap:24px;max-width:1200px;margin:0 auto;display:grid}.header{text-align:center;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;padding:2rem;box-shadow:0 8px 32px #0006}.metrics-grid{grid-template-rows:auto auto;grid-template-columns:2fr 1fr 1fr;gap:20px;display:grid}.metric-card{text-align:center;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;padding:2rem;position:relative;overflow:hidden;box-shadow:0 8px 32px #0006}.metric-card:before{content:"";background:linear-gradient(90deg,var(--accent-color,#f39c12)0%,transparent 100%);height:3px;position:absolute;top:0;left:0;right:0}.power-card{--accent-color:#f39c12;grid-area:1/1/3}.hr-card{--accent-color:#e74c3c;grid-area:1/2}.cadence-card{--accent-color:#3498db;grid-area:1/3}.speed-card{--accent-color:#27ae60;grid-area:2/2}.distance-card{--accent-color:#27ae60;grid-area:2/3}.controls-container{text-align:center;background:linear-gradient(135deg,#1e1e1e 0%,#2a2a2a 100%);border:1px solid #ffffff1a;border-radius:20px;padding:2rem;box-shadow:0 8px 32px #0006}h1{color:#f39c12;-webkit-text-fill-color:transparent;background:linear-gradient(45deg,#f39c12,#e67e22) text;margin:0 0 1rem;font-size:2.5rem;font-weight:700}.metric-value{color:var(--accent-color,#fff);text-shadow:0 2px 10px #00000080;margin-bottom:.5rem;font-size:clamp(3rem,8vw,6rem);font-weight:700;line-height:1}.power-card .metric-value{font-size:clamp(4rem,12vw,8rem)}.metric-unit{color:#aaa;letter-spacing:.5px;font-size:1.2rem;font-weight:500}.metric-label{color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem;font-size:.9rem;font-weight:600}.status-text{color:#bbb;margin-top:1rem;font-size:.9rem;font-style:italic}.device-name{color:var(--accent-color,#f39c12);margin-top:.5rem;font-size:.9rem;font-weight:600}button{color:#121212;cursor:pointer;background:linear-gradient(135deg,#f39c12 0%,#e67e22 100%);border:none;border-radius:12px;margin:8px;padding:16px 32px;font-size:16px;font-weight:600;transition:all .3s;position:relative;overflow:hidden;box-shadow:0 4px 16px #f39c124d}button:before{content:"";background:linear-gradient(90deg,#0000,#fff3,#0000);width:100%;height:100%;transition:left .5s;position:absolute;top:0;left:-100%}button:hover:before{left:100%}button:hover{transform:translateY(-2px);box-shadow:0 8px 24px #f39c1266}button:disabled{color:#888;cursor:not-allowed;box-shadow:none;background:#555;transform:translateY(0)}button:disabled:before{display:none}.export-buttons{flex-wrap:wrap;justify-content:center;gap:12px;margin-top:1.5rem;display:flex}.export-buttons button{background:linear-gradient(135deg,#3498db 0%,#2980b9 100%);box-shadow:0 4px 16px #3498db4d}.export-buttons button:hover{box-shadow:0 8px 24px #3498db66}.advanced-metrics{background:#ffffff0d;border:1px solid #ffffff1a;border-radius:16px;grid-template-columns:repeat(3,1fr);gap:16px;margin:2rem 0;padding:1.5rem;display:grid}.metric-box{text-align:center;background:#ffffff0d;border:1px solid #ffffff1a;border-radius:12px;padding:1rem}.metric-box .value{color:#fff;margin-bottom:.5rem;font-size:1.8rem;font-weight:700}.metric-box .label{color:#aaa;text-transform:uppercase;letter-spacing:.5px;font-size:.8rem}@media (width<=1024px){.metrics-grid{grid-template-rows:auto auto auto;grid-template-columns:1fr 1fr}.power-card{grid-area:1/1/auto/3}.hr-card{grid-area:2/1}.cadence-card{grid-area:2/2}.speed-card{grid-area:3/1}.distance-card{grid-area:3/2}}@media (width<=768px){body{padding:12px}.dashboard{gap:16px}.metrics-grid{grid-template-rows:repeat(5,auto);grid-template-columns:1fr}.power-card,.hr-card,.cadence-card,.speed-card,.distance-card{grid-column:1}.power-card{grid-row:1}.hr-card{grid-row:2}.cadence-card{grid-row:3}.speed-card{grid-row:4}.distance-card{grid-row:5}.header,.metric-card,.controls-container{padding:1.5rem}h1{font-size:2rem}.advanced-metrics{grid-template-columns:1fr;gap:12px;margin:1rem 0}}@media (width<=400px){.metrics-grid{grid-template-rows:auto auto auto;grid-template-columns:1fr 1fr;gap:12px}.power-card{grid-area:1/1/auto/3}.hr-card{grid-area:2/1}.cadence-card{grid-area:2/2}.speed-card{grid-area:3/1}.distance-card{grid-area:3/2}.metric-card{padding:.8rem}.power-card{padding:1.2rem}.advanced-metrics{grid-template-columns:repeat(3,1fr);gap:6px;margin:.8rem 0 .5rem;padding:.8rem}.metric-box .value{font-size:1.2rem}.metric-box .label{font-size:.65rem}}@media (width<=480px){body{padding:8px}.header,.metric-card,.controls-container{padding:1rem}h1{margin:0 0 .5rem;font-size:1.6rem}.metric-card{border-radius:16px;padding:1.2rem}.metric-label{margin-bottom:.5rem;font-size:.8rem}.metric-unit{font-size:1rem}.advanced-metrics{gap:8px;margin:1rem 0 .5rem;padding:1rem}.metric-box .value{font-size:1.4rem}.metric-box .label{font-size:.7rem}button{border-radius:10px;margin:6px;padding:12px 24px;font-size:14px}.export-buttons{flex-direction:column;align-items:center}.status-text{margin-top:.5rem;font-size:.8rem}.device-name{margin-top:.3rem;font-size:.8rem}}.metric-value.loading{animation:2s ease-in-out infinite pulse}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}.metric-card.connected:before{background:linear-gradient(90deg,var(--accent-color,#f39c12)0%,#ffffff4d 100%);animation:3s ease-in-out infinite glow}@keyframes glow{0%,to{opacity:1}50%{opacity:.7}}.status-indicator{background:#666;border-radius:50%;width:12px;height:12px;transition:all .3s;position:absolute;top:1rem;right:1rem}.status-indicator.connected{background:#27ae60;box-shadow:0 0 12px #27ae6080}.status-indicator.connecting{background:#f39c12;animation:1s ease-in-out infinite pulse}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#ffffff1a;border-radius:4px}::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#ffffff80}button:focus{outline:2px solid var(--accent-color,#f39c12);outline-offset:2px}@media (prefers-color-scheme:dark){body{background:linear-gradient(135deg,#0a0a0a 0%,#1a1a1a 50%,#0a0a0a 100%)}}</style><body>
    <div class=dashboard>
        <div class=metrics-grid>
            <div class="metric-card power-card">
                <div class=status-indicator id=power-status-indicator></div>
                <div class=metric-label>Power Output</div>
                <div class=metric-value id=power-value>--</div>
                <div class=metric-unit>Watts</div>
                <div class=advanced-metrics>
                    <div class=metric-box>
                        <div class=value id=balance-value>--</div>
                        <div class=label>L/R Balance</div>
                    </div>
                    <div class=metric-box>
                        <div class=value id=smoothness-value>--</div>
                        <div class=label>Smoothness</div>
                    </div>
                    <div class=metric-box>
                        <div class=value id=torque-value>--</div>
                        <div class=label>Torque Eff.</div>
                    </div>
                </div>
                <div class=status-text id=status>Disconnected</div>
                <div class=device-name id=device-name></div>
            </div>

            <div class="hr-card metric-card">
                <div class=status-indicator id=hr-status-indicator></div>
                <div class=metric-label>Heart Rate</div>
                <div class=metric-value id=hr-value>--</div>
                <div class=metric-unit>BPM</div>
                <div class=status-text id=hrStatus style=display:none></div>
                <div class=device-name id=hrDeviceName style=display:none></div>
            </div>

            <div class="cadence-card metric-card">
                <div class=status-indicator id=cadence-status-indicator></div>
                <div class=metric-label>Cadence</div>
                <div class=metric-value id=cadence-value>--</div>
                <div class=metric-unit>RPM</div>
                <div class=status-text id=cadenceStatus style=display:none></div>
                <div class=device-name id=cadenceDeviceName style=display:none></div>
            </div>

            <div class="metric-card speed-card">
                <div class=status-indicator id=speed-status-indicator></div>
                <div class=metric-label>Speed</div>
                <div class=metric-value id=speed-value>--</div>
                <div class=metric-unit>km/h</div>
            </div>

            <div class="distance-card metric-card">
                <div class=status-indicator id=distance-status-indicator></div>
                <div class=metric-label>Distance</div>
                <div class=metric-value id=distance-value>--</div>
                <div class=metric-unit>km</div>
            </div>
        </div>

        <div class=controls-container>
            <button id=connectButton>Connect Power Meter</button>
            <button id=hrConnectButton>Connect Heart Rate Monitor</button>
            <button id=speedCadenceConnectButton>Connect Speed &amp; Cadence</button>
            <div class=export-buttons id=export-buttons style=display:none>
                <button id=exportJsonButton>Export JSON</button>
                <button id=exportCsvButton>Export CSV</button>
            </div>
        </div>
    </div>

    <script src=power-saver.f7cf161b.js></script>


